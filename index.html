<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <div id="rps-container">
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>
    </div>

    <div id="results" style="margin-top: 10px"></div>

    <script>
        // Write the logic to get the computer choice

        function getComputerChoice() {
            // Get a random value between 0 to 2;
            const randomNumber = Math.floor(Math.random() * 3);

            // Convert number to string
            switch (randomNumber) {
                case 0: return 'rock';
                case 1: return 'paper';
                case 2: return 'scissors';
            }
        }

        function playGame() {
            // Initialize starting score
            let humanScore = 0;
            let computerScore = 0;
            const winningScore = 5;

            // Write the logic to play a single round
            const rps_container = document.querySelector("#rps-container");
            const results = document.querySelector("#results");

            function playRound(humanChoice, computerChoice) {
                const text = document.createElement("code");
                text.style.display = "block";

                // Comparision
                if (humanChoice == computerChoice) {
                    text.textContent = `Both are ${computerChoice}, no points!`;

                } else if (
                    humanChoice == 'rock' && computerChoice == 'scissors' ||
                    humanChoice == 'paper' && computerChoice == 'rock' ||
                    humanChoice == 'scissors' && computerChoice == 'paper'
                ) {
                    text.textContent = `Computer lose! ${humanChoice} beats ${computerChoice}`;
                    humanScore += 1;

                } else {
                    text.textContent = `Human lose! ${computerChoice} beats ${humanChoice}`;
                    computerScore += 1;
                }

                // Show result
                results.append(text);

                // Check for winner
                if (computerScore >= winningScore) {
                    const text = document.createElement("code");
                    text.style.display = "block";
                    text.style.color = "orange";
                    text.textContent = `Computer won the game with ${computerScore} | ${humanScore} points`;

                    // Show result
                    results.append(text);

                    rps_container.removeEventListener("click", getChoice);
                }
                if (humanScore >= winningScore) {
                    const text = document.createElement("code");
                    text.style.display = "block";
                    text.style.color = "orange";
                    text.textContent = `Human won the game with ${humanScore} | ${computerScore} points`;

                    // Show result
                    results.append(text);

                    rps_container.removeEventListener("click", getChoice);
                }
            }

            // Write logic to get user Choice
            function getChoice(e) {
                const computer_choice = getComputerChoice();

                switch (e.target.id) {
                    case "rock": playRound("rock", computer_choice); break;
                    case "paper": playRound("paper", computer_choice); break;
                    case "scissors": playRound("scissors", computer_choice); break;
                }
            }

            rps_container.addEventListener("click", getChoice);
        }

        playGame();
    </script>
</body>
</html>